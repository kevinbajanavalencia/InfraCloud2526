<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kevin's Portal</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="wrapper">

  <!-- Sidebar -->
  <aside class="sidebar">
    <img src="{{ url_for('static', filename='kevinBV.jpg') }}" class="profile-photo">
    <h2>Kevin Valencia</h2>
    <nav class="sidebar-nav">
      <a href="{{ url_for('main') }}" class="sidebar-link">Home</a>
      <a href="{{ url_for('date_page') }}" class="sidebar-link">Date & Time</a>
      <a href="{{ url_for('map_page') }}" class="sidebar-link">Live Map</a>
    </nav>
  </aside>

  <!-- Main content -->
  <main class="main-content">
    <h1>Welcome!</h1>
    <div class="card">
      <p><strong>Request IP:</strong> {{ request.remote_addr }}</p>
      <p><strong>Public IP:</strong> <span id="public-ip">Loading...</span></p>
    </div>
  </main>

</div>

<script>
fetch("https://api.ipify.org?format=json")
    .then(res => res.json())
    .then(data => document.getElementById("public-ip").textContent = data.ip)
    .catch(() => document.getElementById("public-ip").textContent = "Unavailable");
</script>

</body>
</html>
